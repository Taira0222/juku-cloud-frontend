---
description: ドキュメントの詳細レビューをサブエージェントで実行
---

# ドキュメントレビュー

引数: ドキュメントパスまたはディレクトリ(例: `/review-docs docs/product-requirements.md` または `/review-docs docs/`)

## 実行方法

```bash
# 単一ファイルをレビュー
claude
> /review-docs docs/product-requirements.md

# ディレクトリ内の全ドキュメントをレビュー
claude
> /review-docs docs/
```

## 手順

### ステップ1: パスの種別判定と対象ファイルの収集

1. 指定されたパスがファイルかディレクトリかを判定します
2. ファイルの場合: そのファイルを対象とします
3. ディレクトリの場合: Glob toolを使用してディレクトリ内の全ドキュメントファイル(*.md)を検索します
4. 対象ファイルが存在しない場合はエラーを報告します

### ステップ2: doc-reviewerサブエージェント起動

各対象ドキュメントに対してdoc-reviewerサブエージェントを起動してレビューを実行します:

Task toolを使用してdoc-reviewerサブエージェントを起動してください:
- subagent_type: "doc-reviewer"
- description: "Document detailed review"
- prompt: (単一ファイルの場合)
  "[ドキュメントパス]を詳細にレビューしてください。\n\n以下の観点で評価してください:\n1. 完全性: 必要な項目が全て含まれているか\n2. 具体性: 曖昧な表現がないか\n3. 一貫性: 他のドキュメントと整合しているか\n4. 測定可能性: 成功指標が測定可能か(PRDの場合)\n\nレビューレポートを作成してください。"

  (複数ファイル/ディレクトリの場合)
  "以下のドキュメントを詳細にレビューしてください:\n[ファイルパス1]\n[ファイルパス2]\n...\n\n各ドキュメントについて以下の観点で評価してください:\n1. 完全性: 必要な項目が全て含まれているか\n2. 具体性: 曖昧な表現がないか\n3. 一貫性: 他のドキュメントと整合しているか\n4. 測定可能性: 成功指標が測定可能か(PRDの場合)\n\nドキュメントごとにレビューレポートを作成してください。"

### ステップ3: レビュー結果の要約

サブエージェントが作成したレビューレポートの要点を抽出し、ユーザーに報告します。

## 出力形式

### 単一ファイルの場合

```markdown
# ドキュメントレビュー結果

## ドキュメント: [ファイル名]

### 主な改善点

1. [改善点1] (優先度: 高/中/低)
2. [改善点2] (優先度: 高/中/低)
3. [改善点3] (優先度: 高/中/低)

### 総合評価

[1-5]/5

### 次のアクション

- [推奨対応1]
- [推奨対応2]

詳細なレポートはサブエージェントの出力を参照してください。
```

### 複数ファイル/ディレクトリの場合

```markdown
# ドキュメントレビュー結果

## 対象ディレクトリ: [ディレクトリ名]
## レビュー対象: [N]個のドキュメント

### サマリー

| ドキュメント | 評価 | 優先度の高い改善点 |
|-------------|------|------------------|
| [ファイル1] | [1-5]/5 | [N]件 |
| [ファイル2] | [1-5]/5 | [N]件 |
| ... | ... | ... |

### 全体的な傾向

- [共通する課題1]
- [共通する課題2]
- [共通する課題3]

### 優先対応が必要なドキュメント

1. [ファイル名] - [理由]
2. [ファイル名] - [理由]

詳細なレポートはサブエージェントの出力を参照してください。
```

## 注意事項

- レビューは詳細な分析のため、数分かかる場合があります
- サブエージェントは独立したコンテキストで動作するため、メインエージェントのコンテキストは消費しません
- ディレクトリ指定の場合、検索対象は`*.md`ファイルのみです
- 大量のドキュメントがある場合は処理に時間がかかる可能性があります